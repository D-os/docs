<HTML><HEAD><TITLE>Keyboard: Definitions</TITLE></HEAD><BODY BGCOLOR=#ffffff>


<!--TOP LINKS-->
<HR>
<center>
<TABLE bgcolor=ddeeee>
<TR><TD>
<A HREF="index.html"><FONT face=HELVETICA>Keyboard Table of Contents</FONT></A>&nbsp;&nbsp;
<TD>
&nbsp;&nbsp;<A HREF="Keyboard%20Master%20Index.html"><FONT face=HELVETICA>Keyboard Index</FONT></A>
</TABLE></center>
<!--TOP LINKS-->


<HR>
<H1>
<A NAME="Definitions"></A>Definitions
</H1>
<P>
This document lists and describes the keyboard terms and concepts that you should be familiar with.
<P>
<HR>
<H2>
<A NAME="Key%20Codes"></A><FONT SIZE=6>K</FONT>ey <FONT SIZE=6>C</FONT>odes
</H2>
<P>
Keyboards come in a variety of styles and sizes, with different numbers of keys on them, sometimes in different positions.  Some special keys or symbols even appear more than once on the same keyboard&mdash;for example, most keyboards have two enter keys (sometimes one or both of them is called "return").  Most keyboards have two shift keys, and many have two keys that can generate the "=" character&mdash;one of them on the numeric keypad.
<P>
Each of these keys is unique as far as the hardware is concerned, even if they usually generate the same result as far as the user is concerned.  Because of this, each key has a unique number, called a <B>key code</B>.  This is a numeric byte value between 0x01 and 0x7F.  They're not the same as the ASCII or Unicode values for the characters generated by the keys&mdash;which makes sense, since not every key generates a character.
<P>
For example, the left shift key has the key code value of 0x4B, and the right shift key has the key code of 0x56.  Neither of these generates a <B><TT><A HREF="../Messages/GeneralMessages.html#B_KEY_UP">B_KEY_UP</A></TT></B> event (although they do generate a <B><TT><A HREF="../Messages/GeneralMessages.html#B_MODIFIERS_CHANGED">B_MODIFIERS_CHANGED</A></TT></B> event).  The additional implication here is clear: software can actually tell the difference between these two keys&mdash;and any other keys that generate the same Unicode value&mdash;if they need to do so.
<P>
It's also important to note that key codes don't differentiate between shifted and unshifted keys.  Pressing "A" generates the key code 0x27 whether the caps lock or shift key is down or not.
<P>
<HR>
<H2>
<A NAME="The%20Keymap"></A><FONT SIZE=6>T</FONT>he <FONT SIZE=6>K</FONT>eymap
</H2>
<P>
Most software written these days expects keys to be received in either ASCII or Unicode format (or, in the case of BeOS, in UTF-8 format, which is a form of Unicode in which the ASCII codes are contained).  So obviously receiving a value of 0x27 for the "A" key isn't going to help a program that expects to receive 0x41, the UTF-8 value for the character "A".
<P>
So clearly the key codes the input server add-on obtains from the keyboard device need to be translated into UTF-8.  This is done by using a <B>keymap</B>.  This is a table that can be used to look up a key code and determine, based on which modifier keys are currently engaged, the UTF-8 bytes that should be generated.  It also defines which keys are treated as modifier keys.
<P>
BeOS maintains a keymap for use by all applications.  Applications that want to look up key codes in the keymap can call <B><TT><A HREF="../The%20Input%20Server/InputFunctions.html#get_key_map()">get_key_map()</A></TT></B> to get a copy of it.  The <B>Keymap</B> preference panel can be used to configure the system keymap.
<P>
<HR>
<H2>
<A NAME="Character%20Keys"></A><FONT SIZE=6>C</FONT>haracter <FONT SIZE=6>K</FONT>eys
</H2>
<P>
A character key is a key that's mapped to a particular UTF-8 byte or byte sequence.  For example, in the standard American keymap, the key labeled "A" is mapped to the letter "a" when pressed with no modifier keys down, "A" when the <B><U>Caps Lock</B></U> or a <B><U>Shift</B></U> key is down, and control-A (UTF-8 code 0x01) when the <B><U>Control</B></U> key is down.  Mapped character keys generate <B><TT><A HREF="../Messages/GeneralMessages.html#B_KEY_DOWN">B_KEY_DOWN</A></TT></B> and <B><TT><A HREF="../Messages/GeneralMessages.html#B_KEY_UP">B_KEY_UP</A></TT></B> messages when they're pressed and released.
<P>
Keys that aren't mapped to characters generate <B><TT><A HREF="../Messages/GeneralMessages.html#B_UNMAPPED_KEY_DOWN">B_UNMAPPED_KEY_DOWN</A></TT></B> and <B><TT><A HREF="../Messages/GeneralMessages.html#B_UNMAPPED_KEY_UP">B_UNMAPPED_KEY_UP</A></TT></B> messages.
<P>
<HR>
<H2>
<A NAME="Modifier%20Keys"></A><FONT SIZE=6>M</FONT>odifier <FONT SIZE=6>K</FONT>eys
</H2>
<P>
Modifier keys set states that affect the way character keys are interpreted.  Some modifier keys, such as <B><U>Caps Lock</B></U>, toggle in and out of a locked-on or locked-off position each time they're pressed.  Others, like <B><U>Shift</B></U>, set the state only as long as they're held down.
<P>
The keymap contains lists of how to interpret each key depending on which modifier keys are currently engaged.
<P>
<HR>
<H2>
<A NAME="The%20Scroll%20Lock%20Key"></A><FONT SIZE=6>T</FONT>he <FONT SIZE=6>S</FONT>croll <FONT SIZE=6>L</FONT>ock <FONT SIZE=6>K</FONT>ey
</H2>
<P>
The <B><U>Scroll Lock</B></U> key is unique.  In the standard keyboard Input Server add-on, it both generates a character and sets a modifier state.
<P>
<HR>
<H2>
<A NAME="Repeating%20Keys"></A><FONT SIZE=6>R</FONT>epeating <FONT SIZE=6>K</FONT>eys
</H2>
<P>
When a key is pressed and held down, it produces a continuous series of <B><TT><A HREF="../Messages/GeneralMessages.html#B_KEY_DOWN">B_KEY_DOWN</A></TT></B> or <B><TT><A HREF="../Messages/GeneralMessages.html#B_UNMAPPED_KEY_DOWN">B_UNMAPPED_KEY_DOWN</A></TT></B> messages, as long as the key is still held down and doesn't press another key.  After the first message, there's a slight delay before the key begins repeating.  This delay can be determined by calling <B><TT><A HREF="../The%20Input%20Server/InputFunctions.html#get_key_repeat_delay()">get_key_repeat_delay()</A></TT></B> and can be changed by calling <B><TT><A HREF="../The%20Input%20Server/InputFunctions.html#set_key_repeat_delay()">set_key_repeat_delay()</A></TT></B> (although you should leave the user's preference for this alone).
<P>
After the key begins to repeat, the <B><TT><A HREF="../Messages/GeneralMessages.html#B_KEY_DOWN">B_KEY_DOWN</A></TT></B> or <B><TT><A HREF="../Messages/GeneralMessages.html#B_UNMAPPED_KEY_DOWN">B_UNMAPPED_KEY_DOWN</A></TT></B> messages are sent at a fixed rate; this rate can be determined by calling <B><TT><A HREF="../The%20Input%20Server/InputFunctions.html#get_key_repeat_rate()">get_key_repeat_rate()</A></TT></B>.
<P>
All keys repeat except <B><U>Pause</B></U>, <B><U>Break</B></U>, <B><U>Caps Lock</B></U>, <B><U>Num Lock</B></U>, and <B><U>Scroll Lock</B></U>.
<P>
<HR>
<H2>
<A NAME="Dead%20Keys"></A><FONT SIZE=6>D</FONT>ead <FONT SIZE=6>K</FONT>eys
</H2>
<P>
Dead keys don't generate characters until the user strikes another key.  If the key the user presses after the dead key is in a particular set, the two keys together produce one key-down event (and, usually, one character).  If the second keystroke isn't in that set, two key-down events are generated.
<P>
Dead keys are only dead when certain prescribed modifiers (by default, just the <B><U>Option</B></U> key) are held down.  They're most appropriate when the character to be generated can be thought of as being composed of two distinguishable parts&mdash;such as "a" and "e" combining into "&aelig;".
<P>
The system permits up to five dead keys.  By default, they're reserved for combining diacritical marks with other characters.  The diacritical marks are the acute (xab ) and grave (') accents, dieresis (xac ), circumflex (xab ), and tilde (xf7 ).
<P>
</PRE></TABLE></UL></MENU></B></I></TT>



<!--TOP LINKS-->
<HR>
<center>
<TABLE bgcolor=ddeeee>
<TR><TD>
<A HREF="index.html"><FONT face=HELVETICA>Keyboard Table of Contents</FONT></A>&nbsp;&nbsp;
<TD>
&nbsp;&nbsp;<A HREF="Keyboard%20Master%20Index.html"><FONT face=HELVETICA>Keyboard Index</FONT></A>
</TABLE></center>
<!--TOP LINKS-->


<!-- Footer for Release 5 HTML Be Book -->
<hr>
<br>
<p>
<center>
<i><FONT size=6>T</FONT>he <FONT size=6 color=blue>B</FONT><FONT size=6 color=red>e</font> <FONT size=6>B</FONT>ook</i>,
<br>...in lovely HTML...
<br>for BeOS Release 5.
<center>
<br>
<p><font face=helvetiva>Copyright &copy; 2000 Be, Inc.  All rights reserved..
</body>
</html>

