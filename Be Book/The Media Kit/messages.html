<HTML><HEAD><TITLE>The Media Kit: Message Formats </TITLE></HEAD><BODY BGCOLOR=#ffffff>


<!--TOP LINKS-->
<HR>
<center>
<TABLE bgcolor=ddeeee>
<TR><TD>
<A HREF="index.html"><FONT face=HELVETICA>The Media Kit Table of Contents</FONT></A>&nbsp;&nbsp;
<TD>
&nbsp;&nbsp;<A HREF="The%20Media%20Kit%20Master%20Index.html"><FONT face=HELVETICA>The Media Kit Index</FONT></A>
</TABLE></center>
<!--TOP LINKS-->


<HR>
<H1>
<A NAME="Message%20Formats%20"></A>Message Formats 
</H1>
<P>
The Media Kit has a number of message formats.  The following table lists the messages (by their 'what' constants) and describes their intents.  The subsequent sections list the fields that are contained in the messages.
<P>
<A NAME="Notification%20Message%20"what"%20Codes"></A>
<P>
<HR>
<H3>
<A NAME="Notification%20Messages"></A>Notification Messages
</H3>
<P>
Declared in:  <A HREF="/boot/develop/headers/be/media/MediaDefs.h">be/media/MediaDefs.h</A>
<P>
<TABLE BORDER cellpadding=4>
<TH>Constant</TH>
<TH>Meaning</TH>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_WILDCARD
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Used to match any notification (used only in 
<A NAME="Notification%20Messages"></A>calls to 
<TT><A NAME="Notification%20Messages"></A>StartWatching()
</TT> and <TT>
<A NAME="Notification%20Messages"></A>StopWatch
<A NAME="Notification%20Messages"></A>ing()
</TT>).</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_NODE_CREATED
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>A new node has been created
</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_NODE_DELETED
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Not sent in R4.5.
</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_CONNECTION_MADE
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Not sent in R4.5.
</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_CONNECTION_BROKEN
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Not sent in R4.5.
</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_BUFFER_CREATED
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Not sent in R4.5.
</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_BUFFER_DELETED
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Not sent in R4.5.
</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_TRANSPORT_STATE
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Not sent in R4.5.
</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_PARAMETER_CHANGED
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Indicates that a parameter in a 
<A HREF="ParameterWeb.html#BParameterWeb">BParameterWeb</A>
<A NAME="Notification%20Messages"></A> 
<A NAME="Notification%20Messages"></A>has changed.
</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_FORMAT_CHANGED
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Not sent in R4.5.
</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_WEB_CHANGED
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Indicates that a node's 
<A HREF="ParameterWeb.html#BParameterWeb">BParameterWeb</A>
<A NAME="Notification%20Messages"></A> has 
<A NAME="Notification%20Messages"></A>changed.
</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_DEFAULT_CHANGED
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Not sent in R4.5.
</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_NEW_PARAMTER_VALUE
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Indicates that a parameter in a 
<A HREF="ParameterWeb.html#BParameterWeb">BParameterWeb</A>
<A NAME="Notification%20Messages"></A> 
<A NAME="Notification%20Messages"></A>has changed.  Unlike the 
<TT><A NAME="Notification%20Messages"></A>B_MEDIA_PARAMETER_CHANGED
</TT> notification, this includes the new value.</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_NODE_STOPPED
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Indicates that a node has stopped.
</TD>
<TR>
<TD><TT>
<A NAME="Notification%20Messages"></A>B_MEDIA_FLAVORS_CHANGED
</TT></TD>
<TD>
<A NAME="Notification%20Messages"></A>Indicates that flavors have changed.
</TD>
</TABLE>
<P>
Messages with these 'what' are sent by the media server to any application that's registered to receive notifications by calling <B><TT><A HREF="MediaRoster.html#StartWatching()">BMediaRoster::StartWatching()</A></TT></B>.
<P>
The <B><TT><A HREF="#B_MEDIA_TRANSPORT_STATE">B_MEDIA_TRANSPORT_STATE</A></TT></B> message isn't sent in BeOS R4.
<P>
<HR>
<H3>
<A NAME="B_MEDIA_NODE_CREATED"></A>B_MEDIA_NODE_CREATED
, 
<A NAME="B_MEDIA_NODE_DELETED"></A>B_MEDIA_NODE_DELETED
</H3>
<P>
<TABLE BORDER cellpadding=4>
<TH>Field</TH>
<TH>Type Code</TH>
<TH>Description</TH>
<TR>
<TD>"be:media_node_id"</TD>
<TD><B><TT><A HREF="misc_api.html#The%20media_format%20structure%20can%20describe%20any%20media%20data%20format%20the%20BeOS%20can%20support.">B_INT32_TYPE</A></TT></B></TD>
<TD>The ID of the media_node that was created or deleted.</TD>
</TABLE>
<P>
<HR>
<H3>
<A NAME="B_MEDIA_CONNECTION_MADE"></A>B_MEDIA_CONNECTION_MADE
</H3>
<P>
The <B><TT>B_MEDIA_CONNECTION_MADE</TT></B> message has three data fields:
<P>
<TABLE BORDER cellpadding=4>
<TH>Field</TH>
<TH>Type Code</TH>
<TH>Description</TH>
<TR>
<TD>"be:output"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>A media_output structure describing the connection's output.</TD>
<TR>
<TD>"be:input"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>A media_input structure describing the connection's input.</TD>
<TR>
<TD>"be:format"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>A media_format structure describing the format of the data that flows across the connection.</TD>
</TABLE>
<P>
<HR>
<H3>
<A NAME="B_MEDIA_CONNECTION_BROKEN"></A>B_MEDIA_CONNECTION_BROKEN
</H3>
<P>
<TABLE BORDER cellpadding=4>
<TH>Field</TH>
<TH>Type Code</TH>
<TH>Description</TH>
<TR>
<TD>"destination"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>A media_destination structure describing the destination of the connection that's been broken.</TD>
<TR>
<TD>"source"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>A media_source structure describing the source of the connection that's been broken.</TD>
</TABLE>
<P>
<HR>
<H3>
<A NAME="B_MEDIA_BUFFER_CREATED"></A>B_MEDIA_BUFFER_CREATED
</H3>
<P>
<TABLE BORDER cellpadding=4>
<TH>Field</TH>
<TH>Type Code</TH>
<TH>Description</TH>
<TR>
<TD>"clone_info"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>An area_info structure describing the buffer's location in memory.  This is an array, one entry per buffer created.</TD>
</TABLE>
<P>
<HR>
<H3>
<A NAME="B_MEDIA_BUFFER_DELETED"></A>B_MEDIA_BUFFER_DELETED
</H3>
<P>
<TABLE BORDER cellpadding=4>
<TH>Field</TH>
<TH>Type Code</TH>
<TH>Description</TH>
<TR>
<TD>"be:media_buffer_id"</TD>
<TD><B><TT><A HREF="misc_api.html#The%20media_format%20structure%20can%20describe%20any%20media%20data%20format%20the%20BeOS%20can%20support.">B_INT32_TYPE</A></TT></B></TD>
<TD>The buffer ID number of the buffer being deleted.  This is an array, one entry per buffer deleted.</TD>
</TABLE>
<P>
<HR>
<H3>
<A NAME="B_MEDIA_FORMAT_CHANGED"></A>B_MEDIA_FORMAT_CHANGED
</H3>
<P>
<TABLE BORDER cellpadding=4>
<TH>Field</TH>
<TH>Type Code</TH>
<TH>Description</TH>
<TR>
<TD>"be:source"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>A media_source structure describing the source of the connection whose format changed.</TD>
<TR>
<TD>"be:destination"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>A media_source structure describing the source of the connection whose format changed.</TD>
<TR>
<TD>"be:format"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>A media_format structure describing the new format.</TD>
</TABLE>
<P>
<HR>
<H3>
<A NAME="B_MEDIA_PARAMETER_CHANGED"></A>B_MEDIA_PARAMETER_CHANGED
</H3>
<P>
<TABLE BORDER cellpadding=4>
<TH>Field</TH>
<TH>Type Code</TH>
<TH>Description</TH>
<TR>
<TD>"be:node"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>A media_node structure indicating which node's parameter web has changed.</TD>
<TR>
<TD>"be:parameter"</TD>
<TD><B><TT><A HREF="misc_api.html#The%20media_format%20structure%20can%20describe%20any%20media%20data%20format%20the%20BeOS%20can%20support.">B_INT32_TYPE</A></TT></B></TD>
<TD>The ID number of the parameter whose value has changed.</TD>
</TABLE>
<P>
<HR>
<H3>
<A NAME="B_MEDIA_WEB_CHANGED"></A>B_MEDIA_WEB_CHANGED
</H3>
<P>
<TABLE BORDER cellpadding=4>
<TH>Field</TH>
<TH>Type Code</TH>
<TH>Description</TH>
<TR>
<TD>"node"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>A media_node structure indicating which node's parameter web has changed.</TD>
</TABLE>
<P>
<HR>
<H3>
<A NAME="B_MEDIA_NEW_PARAMETER_VALUE"></A>B_MEDIA_NEW_PARAMETER_VALUE
</H3>
<P>
<TABLE BORDER cellpadding=4>
<TH>Field</TH>
<TH>Type Code</TH>
<TH>Description</TH>
<TR>
<TD>"node"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>A media_node structure indicating which node is reporting a changed parameter value.</TD>
<TR>
<TD>"parameter"</TD>
<TD><B><TT><A HREF="misc_api.html#The%20media_format%20structure%20can%20describe%20any%20media%20data%20format%20the%20BeOS%20can%20support.">B_INT32_TYPE</A></TT></B></TD>
<TD>The parameter ID of the changed parameter.</TD>
<TR>
<TD>"when"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_INT64_TYPE">B_INT64_TYPE</A></TT></B></TD>
<TD>The performance time at which the change took effect.</TD>
<TR>
<TD>"value"</TD>
<TD><B><TT><A HREF="../The%20Support%20Kit/misc.html#B_RAW_TYPE">B_RAW_TYPE</A></TT></B></TD>
<TD>The parameter's new value.</TD>
</TABLE>
<P>
<HR>
<H3>
<A NAME="B_MEDIA_FLAVORS_CHANGED"></A>B_MEDIA_FLAVORS_CHANGED
</H3>
<P>
<TABLE BORDER cellpadding=4>
<TH>Field</TH>
<TH>Type Code</TH>
<TH>Description</TH>
<TR>
<TD>"be:addon_id"</TD>
<TD><B><TT><A HREF="misc_api.html#The%20media_format%20structure%20can%20describe%20any%20media%20data%20format%20the%20BeOS%20can%20support.">B_INT32_TYPE</A></TT></B></TD>
<TD>The add-on ID of the add-on whose flavors have changed</TD>
<TR>
<TD>"be:new_count"</TD>
<TD><B><TT><A HREF="misc_api.html#The%20media_format%20structure%20can%20describe%20any%20media%20data%20format%20the%20BeOS%20can%20support.">B_INT32_TYPE</A></TT></B></TD>
<TD>How many new flavors have been added.</TD>
<TR>
<TD>"be:gone_count"</TD>
<TD><B><TT><A HREF="misc_api.html#The%20media_format%20structure%20can%20describe%20any%20media%20data%20format%20the%20BeOS%20can%20support.">B_INT32_TYPE</A></TT></B></TD>
<TD>How many flavors have been removed.</TD>
</TABLE>
<P>
</PRE></TABLE></UL></MENU></B></I></TT>



<!--TOP LINKS-->
<HR>
<center>
<TABLE bgcolor=ddeeee>
<TR><TD>
<A HREF="index.html"><FONT face=HELVETICA>The Media Kit Table of Contents</FONT></A>&nbsp;&nbsp;
<TD>
&nbsp;&nbsp;<A HREF="The%20Media%20Kit%20Master%20Index.html"><FONT face=HELVETICA>The Media Kit Index</FONT></A>
</TABLE></center>
<!--TOP LINKS-->


<!-- Footer for Release 5 HTML Be Book -->
<hr>
<br>
<p>
<center>
<i><FONT size=6>T</FONT>he <FONT size=6 color=blue>B</FONT><FONT size=6 color=red>e</font> <FONT size=6>B</FONT>ook</i>,
<br>...in lovely HTML...
<br>for BeOS Release 5.
<center>
<br>
<p><font face=helvetiva>Copyright &copy; 2000 Be, Inc.  All rights reserved..
</body>
</html>

